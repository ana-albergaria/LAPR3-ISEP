@startuml

autonumber
actor Client as C

participant "GetContainerRouteUI" as UI
participant "GetContainerRouteController" as CTRL
participant "Company" as COMPANY
participant "App" as APP
participant "databaseConnection:\nDatabaseConnection" as CONNECTION

participant "TripStoreDB" as TRIP_STORE_DB

/'Temos de chamar a Company para as Stores ou não é
necessário?'/


activate C
C -> "UI" : asks to obtain the situation of container to transport the goods
activate "UI"
"UI" --> C : requests the registration code
deactivate "UI"
C -> "UI" : types the registration code
activate "UI"
UI --> C : requests the container id
deactivate UI
C -> UI : types the container id
activate UI
UI -> CTRL : getContainerPath(containerID, registrationCode)
activate CTRL
CTRL -> COMPANY : tripStoreDB = getTripStoreDB()
activate COMPANY
deactivate COMPANY
CTRL -> APP : databaseConnection = getInstance().getDatabaseConnection()
activate APP
deactivate APP
CTRL -> TRIP_STORE_DB : routeId = getRouteId(connection, containerID, registrationCode)
activate TRIP_STORE_DB
deactivate TRIP_STORE_DB
CTRL -> TRIP_STORE_DB : route = getContainerPath(connection, routeID)
activate TRIP_STORE_DB
deactivate TRIP_STORE_DB
CTRL --> UI : containerLocation
deactivate CTRL
UI --> C : displays the route until current location
deactivate UI
deactivate C

@enduml