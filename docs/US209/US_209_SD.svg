<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1393px" preserveAspectRatio="none" style="width:1847px;height:1393px;background:#FFFFFF;" version="1.1" viewBox="0 0 1847 1393" width="1847px" zoomAndPan="magnify"><defs><filter height="300%" id="f10uazcfxhqdbb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1190.0313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="471.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1106.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="471.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1046.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="819.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="150.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="251.3672"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="756.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="465.4219"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1499.5" y="586.125"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="286.7188"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="500.7734"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="671.4766"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="756.8281"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="842.1797"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="1012.8828"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="372.0703"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="927.5313"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="1123.5859"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="103.7031" style="stroke:#000000;stroke-width:2.0;" width="1129" x="704.5" y="1082.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="89.6094" y2="1307.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="476.5" x2="476.5" y1="89.6094" y2="1307.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="824.5" x2="824.5" y1="89.6094" y2="1307.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1504.5" x2="1504.5" y1="89.6094" y2="1307.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1610.5" x2="1610.5" y1="89.6094" y2="1307.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1749.5" x2="1749.5" y1="89.6094" y2="1307.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="5" y="86.5332">Ship Captain</text><ellipse cx="48.5" cy="15" fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M48.5,23 L48.5,50 M35.5,31 L61.5,31 M48.5,50 L35.5,65 M48.5,50 L61.5,65 " fill="none" filter="url(#f10uazcfxhqdbb)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="5" y="1321.1738">Ship Captain</text><ellipse cx="48.5" cy="1334.25" fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M48.5,1342.25 L48.5,1369.25 M35.5,1350.25 L61.5,1350.25 M48.5,1369.25 L35.5,1384.25 M48.5,1369.25 L61.5,1384.25 " fill="none" filter="url(#f10uazcfxhqdbb)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="208" x="370.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="377.5" y="74.5332">:OccupancyByShipAndDateUI</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="208" x="370.5" y="1306.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="377.5" y="1328.1738">:OccupancyByShipAndDateUI</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="714.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="721.5" y="74.5332">:ShipOccupancyRatesController</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="216" x="714.5" y="1306.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="721.5" y="1328.1738">:ShipOccupancyRatesController</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1462.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1469.5" y="74.5332">:ShipStore</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1462.5" y="1306.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1469.5" y="1328.1738">:ShipStore</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1556.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1563.5" y="74.5332">:ShipTripStore</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1556.5" y="1306.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1563.5" y="1328.1738">:ShipTripStore</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1675.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1682.5" y="74.5332">:CargoManifestStore</text><rect fill="#FEFECE" filter="url(#f10uazcfxhqdbb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="144" x="1675.5" y="1306.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1682.5" y="1328.1738">:CargoManifestStore</text><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1190.0313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="471.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1106.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="471.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="1046.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="819.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="150.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="251.3672"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="756.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="465.4219"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1499.5" y="586.125"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="286.7188"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="500.7734"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="671.4766"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="756.8281"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="842.1797"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1606" y="1012.8828"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="372.0703"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="927.5313"/><rect fill="#FFFFFF" filter="url(#f10uazcfxhqdbb)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1744.5" y="1123.5859"/><polygon fill="#A80036" points="459.5,117.9609,469.5,121.9609,459.5,125.9609,463.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="465.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="60.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="71.5" y="117.1045">asks to know the occupancy rate of a given ship at a given moment</text><polygon fill="#A80036" points="64.5,148.3125,54.5,152.3125,64.5,156.3125,60.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="475.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="81.5" y="147.4561">asks for data(i.e.,mmsi,date)</text><polygon fill="#A80036" points="459.5,178.6641,469.5,182.6641,459.5,186.6641,463.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53.5" x2="465.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="60.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="71.5" y="177.8076">inserts needed data</text><polygon fill="#A80036" points="807.5,209.0156,817.5,213.0156,807.5,217.0156,811.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="481.5" x2="813.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="488.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="499.5" y="208.1592">getShipOccupancyRateByMmsiAndDate(mmsi, date)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="829.5" x2="876.5" y1="238.3672" y2="238.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="876.5" x2="876.5" y1="238.3672" y2="251.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="835.5" x2="876.5" y1="251.3672" y2="251.3672"/><polygon fill="#A80036" points="845.5,247.3672,835.5,251.3672,845.5,255.3672,841.5,251.3672" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="233.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="393" x="852.5" y="233.5107">cargoManifestID = getCargoManifestIDByMmsiAndDate(mmsi, date)</text><polygon fill="#A80036" points="1594,282.7188,1604,286.7188,1594,290.7188,1598,286.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="286.7188" y2="286.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="281.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309" x="852.5" y="281.8623">shipTripID = getShipTripByMmsiAndDate(mmsi, date)</text><polygon fill="#A80036" points="1732.5,368.0703,1742.5,372.0703,1732.5,376.0703,1736.5,372.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1738.5" y1="372.0703" y2="372.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="367.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="852.5" y="367.2139">cargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="829.5" x2="876.5" y1="452.4219" y2="452.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="876.5" x2="876.5" y1="452.4219" y2="465.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="835.5" x2="876.5" y1="465.4219" y2="465.4219"/><polygon fill="#A80036" points="845.5,461.4219,835.5,465.4219,845.5,469.4219,841.5,465.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="447.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="852.5" y="447.5654">getShipOccupancyRateByCargoManifestID(cargoManifestID)</text><polygon fill="#A80036" points="1594,496.7734,1604,500.7734,1594,504.7734,1598,500.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="500.7734" y2="500.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="495.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="852.5" y="495.917">mmsi = getMmsiOfChosenShip(databaseConnection, cargoManifestID)</text><polygon fill="#A80036" points="1487.5,582.125,1497.5,586.125,1487.5,590.125,1491.5,586.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1493.5" y1="586.125" y2="586.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="581.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="859.5" y="581.2686">maxCapacity = getMaxCapacityByMmsi(mmsi)</text><polygon fill="#A80036" points="1594,667.4766,1604,671.4766,1594,675.4766,1598,671.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="671.4766" y2="671.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="666.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="859.5" y="666.6201">shipTripID = getShipTripByCargoManifestID(cargoManifestID)</text><polygon fill="#A80036" points="1594,752.8281,1604,756.8281,1594,760.8281,1598,756.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="756.8281" y2="756.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="751.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="412" x="859.5" y="751.9717">initialNumContainers = getInitialNumContainersByShipTripID(shipTripID)</text><polygon fill="#A80036" points="1594,838.1797,1604,842.1797,1594,846.1797,1598,842.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="842.1797" y2="842.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="837.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="450" x="859.5" y="837.3232">loadingCargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)</text><polygon fill="#A80036" points="1732.5,923.5313,1742.5,927.5313,1732.5,931.5313,1736.5,927.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1738.5" y1="927.5313" y2="927.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="922.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="597" x="859.5" y="922.6748">addedContainersNum = getNumOfAddedContainersByLoadingCargoManifestID(loadingCargoManifestID)</text><polygon fill="#A80036" points="1594,1008.8828,1604,1012.8828,1594,1016.8828,1598,1012.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1600" y1="1012.8828" y2="1012.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="1008.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476" x="859.5" y="1008.0264">unloadingCargoManifestID = getUnloadingCargoManifestIDByShipTripID(shipTripID)</text><path d="M704.5,1082.8828 L765.5,1082.8828 L765.5,1090.8828 L755.5,1100.8828 L704.5,1100.8828 L704.5,1082.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="103.7031" style="stroke:#000000;stroke-width:2.0;" width="1129" x="704.5" y="1082.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="719.5" y="1097.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="315" x="780.5" y="1096.3018">[if cargoManifestID is equal to unloadingCargoManifestID]</text><polygon fill="#A80036" points="1732.5,1119.5859,1742.5,1123.5859,1732.5,1127.5859,1736.5,1123.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="1738.5" y1="1123.5859" y2="1123.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="1118.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="652" x="859.5" y="1118.7295">removedContainersNum = getNumOfRemovedContainersByUnloadingCargoManifestID(unloadingCargoManifestID)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="834.5" x2="876.5" y1="1220.9375" y2="1220.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="876.5" x2="876.5" y1="1220.9375" y2="1233.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="829.5" x2="876.5" y1="1233.9375" y2="1233.9375"/><polygon fill="#A80036" points="839.5,1229.9375,829.5,1233.9375,839.5,1237.9375,835.5,1233.9375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="841.5" y="1216.0811">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="633" x="859.5" y="1216.0811">calculateOccupancyRate(maxCapacity, initialNumContainers, addedContainersNum, removedContainersNum)</text><polygon fill="#A80036" points="492.5,1255.2891,482.5,1259.2891,492.5,1263.2891,488.5,1259.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="823.5" y1="1259.2891" y2="1259.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="498.5" y="1254.4326">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="516.5" y="1254.4326">result</text><polygon fill="#A80036" points="59.5,1285.6406,49.5,1289.6406,59.5,1293.6406,55.5,1289.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53.5" x2="475.5" y1="1289.6406" y2="1289.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65.5" y="1284.7842">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="83.5" y="1284.7842">informs of operation success or fail</text><!--MD5=[ca6d3524cf5e1b9edf97bd93abb14268]
@startuml
autonumber
'hide footbox
actor "Ship Captain" as SC
participant ":OccupancyByShipAndDateUI  " as UI
participant ":ShipOccupancyRatesController" as CTRL
participant ":ShipStore" as SS
participant ":ShipTripStore" as STS
participant ":CargoManifestStore" as CMS
'participant ":ContainersStore" as CS
'participant ":Company" as CMP
'participant ":ShipStore" as STORE
'participant ":ShipsBST" as SBST
'participant ":Ship" as SHIP

activate SC
SC -> UI : asks to know the occupancy rate of a given ship at a given moment
activate UI
UI - -> SC : asks for data(i.e.,mmsi,date)
deactivate UI
SC -> UI : inserts needed data
activate UI
UI -> CTRL : getShipOccupancyRateByMmsiAndDate(mmsi, date)
activate CTRL
CTRL -> CTRL : cargoManifestID = getCargoManifestIDByMmsiAndDate(mmsi, date)
activate CTRL
'tenho de ver a ship trip com esse mmsi e data no intervalo
'e tenho de ir buscar o loading
CTRL -> STS : shipTripID = getShipTripByMmsiAndDate(mmsi, date)
activate STS
|||
deactivate STS
CTRL -> CMS : cargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)
activate CMS
|||
deactivate CMS
deactivate CTRL


CTRL -> CTRL : getShipOccupancyRateByCargoManifestID(cargoManifestID)
activate CTRL

CTRL -> STS : mmsi = getMmsiOfChosenShip(databaseConnection, cargoManifestID)
'tenho de saber se procuro o cargoManifestID na parte do loadingID ou do unloadingID
activate STS
|||
deactivate STS
'preciso da capacidade total em nr de contentores
'preciso do numero de contetores atualmente no ship
CTRL -> SS : maxCapacity = getMaxCapacityByMmsi(mmsi)
activate SS
|||
deactivate SS
CTRL -> STS : shipTripID = getShipTripByCargoManifestID(cargoManifestID)
'o loading_cargo_id ou o unloading_cargo_id tÃªm de ter esse id
activate STS
|||
deactivate STS
CTRL -> STS: initialNumContainers = getInitialNumContainersByShipTripID(shipTripID)
activate STS
|||
deactivate STS
CTRL -> STS: loadingCargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)
activate STS
|||
deactivate STS
CTRL -> CMS: addedContainersNum = getNumOfAddedContainersByLoadingCargoManifestID(loadingCargoManifestID)
activate CMS
|||
deactivate CMS
CTRL -> STS: unloadingCargoManifestID = getUnloadingCargoManifestIDByShipTripID(shipTripID)
activate STS
|||
deactivate STS
alt if cargoManifestID is equal to unloadingCargoManifestID
CTRL -> CMS: removedContainersNum = getNumOfRemovedContainersByUnloadingCargoManifestID(unloadingCargoManifestID)
activate CMS
|||
deactivate CMS
end
CTRL -> CTRL : calculateOccupancyRate(maxCapacity, initialNumContainers, addedContainersNum, removedContainersNum)
deactivate CTRL



CTRL - -> UI : result
deactivate CTRL
UI - -> SC : informs of operation success or fail
deactivate UI
deactivate SC

@enduml

@startuml
autonumber
actor "Ship Captain" as SC
participant ":OccupancyByShipAndDateUI  " as UI
participant ":ShipOccupancyRatesController" as CTRL
participant ":ShipStore" as SS
participant ":ShipTripStore" as STS
participant ":CargoManifestStore" as CMS

activate SC
SC -> UI : asks to know the occupancy rate of a given ship at a given moment
activate UI
UI - -> SC : asks for data(i.e.,mmsi,date)
deactivate UI
SC -> UI : inserts needed data
activate UI
UI -> CTRL : getShipOccupancyRateByMmsiAndDate(mmsi, date)
activate CTRL
CTRL -> CTRL : cargoManifestID = getCargoManifestIDByMmsiAndDate(mmsi, date)
activate CTRL
CTRL -> STS : shipTripID = getShipTripByMmsiAndDate(mmsi, date)
activate STS
|||
deactivate STS
CTRL -> CMS : cargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)
activate CMS
|||
deactivate CMS
deactivate CTRL


CTRL -> CTRL : getShipOccupancyRateByCargoManifestID(cargoManifestID)
activate CTRL

CTRL -> STS : mmsi = getMmsiOfChosenShip(databaseConnection, cargoManifestID)
activate STS
|||
deactivate STS
CTRL -> SS : maxCapacity = getMaxCapacityByMmsi(mmsi)
activate SS
|||
deactivate SS
CTRL -> STS : shipTripID = getShipTripByCargoManifestID(cargoManifestID)
activate STS
|||
deactivate STS
CTRL -> STS: initialNumContainers = getInitialNumContainersByShipTripID(shipTripID)
activate STS
|||
deactivate STS
CTRL -> STS: loadingCargoManifestID = getLoadingCargoManifestIDByShipTripID(shipTripID)
activate STS
|||
deactivate STS
CTRL -> CMS: addedContainersNum = getNumOfAddedContainersByLoadingCargoManifestID(loadingCargoManifestID)
activate CMS
|||
deactivate CMS
CTRL -> STS: unloadingCargoManifestID = getUnloadingCargoManifestIDByShipTripID(shipTripID)
activate STS
|||
deactivate STS
alt if cargoManifestID is equal to unloadingCargoManifestID
CTRL -> CMS: removedContainersNum = getNumOfRemovedContainersByUnloadingCargoManifestID(unloadingCargoManifestID)
activate CMS
|||
deactivate CMS
end
CTRL -> CTRL : calculateOccupancyRate(maxCapacity, initialNumContainers, addedContainersNum, removedContainersNum)
deactivate CTRL



CTRL - -> UI : result
deactivate CTRL
UI - -> SC : informs of operation success or fail
deactivate UI
deactivate SC

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>