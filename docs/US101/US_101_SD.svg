<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1126px" preserveAspectRatio="none" style="width:2574px;height:1126px;background:#FFFFFF;" version="1.1" viewBox="0 0 2574 1126" width="2574px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lgxnzo5a08r0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="923.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="53" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="840.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="779.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="524" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="800" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="800" y="304.0703"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="390.125"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="659.9375"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485" y="827.9531"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1569.5" y="760.9922"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1569.5" y="895.3047"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2034.5" y="925.6563"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="476.1797"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="562.2344"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="690.2891"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2477.5" y="592.5859"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="614.2344" style="stroke:#000000;stroke-width:2.0;" width="2140.5" x="420" y="349.4219"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="430.4766" style="stroke:#000000;stroke-width:2.0;" width="2120.5" x="430" y="435.4766"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="109.0547" style="stroke:#000000;stroke-width:2.0;" width="2100.5" x="440" y="521.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="529" x2="529" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="805" x2="805" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="944" x2="944" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1490" x2="1490" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1574" x2="1574" y1="761.9453" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2039.5" x2="2039.5" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2150.5" x2="2150.5" y1="89.6094" y2="1041.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2482.5" x2="2482.5" y1="89.6094" y2="1041.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="5" y="86.5332">Traffic Manager</text><ellipse cx="58" cy="15" fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M58,23 L58,50 M45,31 L71,31 M58,50 L45,65 M58,50 L71,65 " fill="none" filter="url(#f1lgxnzo5a08r0)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="5" y="1054.8926">Traffic Manager</text><ellipse cx="58" cy="1067.9688" fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M58,1075.9688 L58,1102.9688 M45,1083.9688 L71,1083.9688 M58,1102.9688 L45,1117.9688 M58,1102.9688 L71,1117.9688 " fill="none" filter="url(#f1lgxnzo5a08r0)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="309" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="316" y="74.5332">:ImportShipsUI</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="309" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="316" y="1061.8926">:ImportShipsUI</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="154" x="450" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="457" y="74.5332">:ImportShipsController</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="154" x="450" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="457" y="1061.8926">:ImportShipsController</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="764" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="771" y="74.5332">:Company</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="764" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="771" y="1061.8926">:Company</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="902" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="909" y="74.5332">:ShipsBST</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="902" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="909" y="1061.8926">:ShipsBST</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="1465" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1472" y="74.5332">:Ship</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="46" x="1465" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1472" y="1061.8926">:Ship</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1525" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1532" y="1061.8926">:PositionBST</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="68" x="2003.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2010.5" y="74.5332">:Position</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="68" x="2003.5" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="2010.5" y="1061.8926">:Position</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="126" x="2085.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2092.5" y="74.5332">:VesselTypeStore</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="126" x="2085.5" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2092.5" y="1061.8926">:VesselTypeStore</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2434.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2441.5" y="74.5332">:VesselType</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="92" x="2434.5" y="1040.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2441.5" y="1061.8926">:VesselType</text><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="923.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="53" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="840.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="362" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="779.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="524" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="800" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="800" y="304.0703"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="390.125"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="939" y="659.9375"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485" y="827.9531"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="36.6094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1569.5" y="760.9922"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1569.5" y="895.3047"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2034.5" y="925.6563"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="476.1797"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="562.2344"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2145.5" y="690.2891"/><rect fill="#FFFFFF" filter="url(#f1lgxnzo5a08r0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2477.5" y="592.5859"/><polygon fill="#A80036" points="350,117.9609,360,121.9609,350,125.9609,354,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="356" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="81" y="117.1045">asks to import ships from a text file into a BST</text><polygon fill="#A80036" points="74,148.3125,64,152.3125,74,156.3125,70,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68" x2="366" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="80" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="91" y="147.4561">asks for data(i.e., file path)</text><polygon fill="#A80036" points="350,178.6641,360,182.6641,350,186.6641,354,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="63" x2="356" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="81" y="177.8076">types requested data</text><polygon fill="#A80036" points="512,209.0156,522,213.0156,512,217.0156,516,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="372" x2="518" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="379" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="390" y="208.1592">importShips(file path)</text><polygon fill="#A80036" points="788,239.3672,798,243.3672,788,247.3672,792,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="794" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="541" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="552" y="238.5107">shipsBST = getShipsBST()</text><polygon fill="#A80036" points="545,269.7188,535,273.7188,545,277.7188,541,273.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="539" x2="804" y1="273.7188" y2="273.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="551" y="268.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="562" y="268.8623">shipsBST</text><polygon fill="#A80036" points="788,300.0703,798,304.0703,788,308.0703,792,304.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="794" y1="304.0703" y2="304.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="541" y="299.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="552" y="299.2139">vesselTypeStore = getVesselTypeStore()</text><polygon fill="#A80036" points="545,330.4219,535,334.4219,545,338.4219,541,334.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="539" x2="804" y1="334.4219" y2="334.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="551" y="329.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="562" y="329.5654">vesselTypeStore</text><path d="M420,349.4219 L493,349.4219 L493,357.4219 L483,367.4219 L420,367.4219 L420,349.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="614.2344" style="stroke:#000000;stroke-width:2.0;" width="2140.5" x="420" y="349.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="435" y="363.917">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="508" y="362.8408">[for each line of the file]</text><polygon fill="#A80036" points="927,386.125,937,390.125,927,394.125,931,390.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="933" y1="390.125" y2="390.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="541" y="385.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="552" y="385.2686">ship = getShipByMMSI(mmsi)</text><polygon fill="#A80036" points="545,416.4766,535,420.4766,545,424.4766,541,420.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="539" x2="943" y1="420.4766" y2="420.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="551" y="415.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="569" y="415.6201">ship</text><path d="M430,435.4766 L491,435.4766 L491,443.4766 L481,453.4766 L430,453.4766 L430,435.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="430.4766" style="stroke:#000000;stroke-width:2.0;" width="2120.5" x="430" y="435.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="445" y="449.9717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="506" y="448.8955">[if ship == null]</text><polygon fill="#A80036" points="2133.5,472.1797,2143.5,476.1797,2133.5,480.1797,2137.5,476.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="2139.5" y1="476.1797" y2="476.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="541" y="471.3232">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="559" y="471.3232">vesselType = getVesselTypeByID(vesselTypeID)</text><polygon fill="#A80036" points="545,502.5313,535,506.5313,545,510.5313,541,506.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="539" x2="2149.5" y1="506.5313" y2="506.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="551" y="501.6748">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="569" y="501.6748">vesselType</text><path d="M440,521.5313 L501,521.5313 L501,529.5313 L491,539.5313 L440,539.5313 L440,521.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="109.0547" style="stroke:#000000;stroke-width:2.0;" width="2100.5" x="440" y="521.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="455" y="536.0264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120" x="516" y="534.9502">[if vesselType == null]</text><polygon fill="#A80036" points="2133.5,558.2344,2143.5,562.2344,2133.5,566.2344,2137.5,562.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="2139.5" y1="562.2344" y2="562.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="541" y="557.3779">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353" x="559" y="557.3779">createVesselType(vesselTypeID, length, width, maxCapacity)</text><polygon fill="#A80036" points="2465.5,588.5859,2475.5,592.5859,2465.5,596.5859,2469.5,592.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2155.5" x2="2471.5" y1="592.5859" y2="592.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2162.5" y="587.7295">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="2180.5" y="587.7295">create(vesselTypeID, length, width, maxCapacity)</text><polygon fill="#A80036" points="927,655.9375,937,659.9375,927,663.9375,931,659.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="933" y1="659.9375" y2="659.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="541" y="655.0811">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="559" y="655.0811">createShip(mmsi, imo, callSign, shipName, draft, vesselTypeID)</text><polygon fill="#A80036" points="2133.5,686.2891,2143.5,690.2891,2133.5,694.2891,2137.5,690.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="949" x2="2139.5" y1="690.2891" y2="690.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="956" y="685.4326">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="974" y="685.4326">vesselType = getVesselTypeByID(vesselTypeID)</text><polygon fill="#A80036" points="960,716.6406,950,720.6406,960,724.6406,956,720.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="954" x2="2149.5" y1="720.6406" y2="720.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="966" y="715.7842">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="984" y="715.7842">vesselType</text><polygon fill="#A80036" points="1513,746.9922,1523,750.9922,1513,754.9922,1517,750.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="949" x2="1519" y1="750.9922" y2="750.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="956" y="746.1357">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="974" y="746.1357">create()</text><rect fill="#FEFECE" filter="url(#f1lgxnzo5a08r0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="95" x="1525" y="728.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1532" y="750.1738">:PositionBST</text><polygon fill="#A80036" points="960,793.6016,950,797.6016,960,801.6016,956,797.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="954" x2="1573.5" y1="797.6016" y2="797.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="966" y="792.7451">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="984" y="792.7451">shipPositions</text><polygon fill="#A80036" points="1473,823.9531,1483,827.9531,1473,831.9531,1477,827.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="949" x2="1479" y1="827.9531" y2="827.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="956" y="823.0967">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="499" x="974" y="823.0967">create(mmsi, imo, callSign, shipName, draft, shipPositions, vesselType, energyPower)</text><polygon fill="#A80036" points="1557.5,891.3047,1567.5,895.3047,1557.5,899.3047,1561.5,895.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="534" x2="1563.5" y1="895.3047" y2="895.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="541" y="890.4482">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="465" x="559" y="890.4482">createPosition(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)</text><polygon fill="#A80036" points="2022.5,921.6563,2032.5,925.6563,2022.5,929.6563,2026.5,925.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1579.5" x2="2028.5" y1="925.6563" y2="925.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1586.5" y="920.7998">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418" x="1604.5" y="920.7998">create(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)</text><polygon fill="#A80036" points="383,989.0078,373,993.0078,383,997.0078,379,993.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="377" x2="528" y1="993.0078" y2="993.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="389" y="988.1514">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="407" y="988.1514">result</text><polygon fill="#A80036" points="69,1019.3594,59,1023.3594,69,1027.3594,65,1023.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63" x2="366" y1="1023.3594" y2="1023.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75" y="1018.5029">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="93" y="1018.5029">informs of operation success or fail</text><!--MD5=[47cd00236e487bf3a63d97cb4f9938ae]
@startuml
autonumber
'hide footbox
actor "Traffic Manager" as TM
participant ":ImportShipsUI  " as UI
participant ":ImportShipsController" as CTRL
participant ":Company" as CMP
participant ":ShipsBST" as SBST
participant ":Ship" as SHIP
participant ":PositionBST" as PBST
participant ":ShipPosition" as POS
participant ":VesselTypeStore" as VTSTR
participant ":VesselType" as VT

'FALTAM AS VALIDAÇÕES

activate TM
TM -> UI : asks to import ships from a text file into a BST
activate UI
UI - -> TM : asks for data(i.e., file path)
deactivate UI

TM -> UI : types requested data
activate UI
UI -> CTRL : importShips(file path)
activate CTRL
CTRL -> CMP : shipsBST = getShipsBST()
activate CMP
CMP - -> CTRL : shipsBST
deactivate CMP
CTRL -> CMP : vesselTypeStore = getVesselTypeStore()
activate CMP
CMP - -> CTRL : vesselTypeStore
deactivate CMP
loop for each line of the file
CTRL -> SBST : ship = getShipByMMSI(mmsi)
activate SBST
SBST - -> CTRL : ship
deactivate SBST
alt if ship == null
CTRL -> VTSTR : vesselType = getVesselTypeByID(vesselTypeID)
activate VTSTR
VTSTR - -> CTRL : vesselType
deactivate VTSTR
alt if vesselType == null
CTRL -> VTSTR : createVesselType(vesselTypeID, length, width, maxCapacity)
activate VTSTR
VTSTR - -> VT : create(vesselTypeID, length, width, maxCapacity)
activate VT
deactivate VT
deactivate VTSTR
end
CTRL -> SBST : createShip(mmsi, imo, callSign, shipName, draft, vesselTypeID)
activate SBST
SBST -> VTSTR : vesselType = getVesselTypeByID(vesselTypeID)
activate VTSTR
VTSTR - -> SBST : vesselType
deactivate VTSTR
SBST -> PBST** : create()
activate PBST
PBST - -> SBST : shipPositions
deactivate PBST
SBST -> SHIP : create(mmsi, imo, callSign, shipName, draft, shipPositions, vesselType, energyPower)
activate SHIP
deactivate SHIP
deactivate SBST
end
CTRL -> PBST : createPosition(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)
activate PBST
PBST -> POS : create(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)
activate POS
deactivate POS
deactivate PBST
end
CTRL - -> UI : result
deactivate CTRL
UI - -> TM : informs of operation success or fail
deactivate UI
deactivate TM

@enduml

@startuml
autonumber
actor "Traffic Manager" as TM
participant ":ImportShipsUI  " as UI
participant ":ImportShipsController" as CTRL
participant ":Company" as CMP
participant ":ShipsBST" as SBST
participant ":Ship" as SHIP
participant ":PositionBST" as PBST
participant ":ShipPosition" as POS
participant ":VesselTypeStore" as VTSTR
participant ":VesselType" as VT


activate TM
TM -> UI : asks to import ships from a text file into a BST
activate UI
UI - -> TM : asks for data(i.e., file path)
deactivate UI

TM -> UI : types requested data
activate UI
UI -> CTRL : importShips(file path)
activate CTRL
CTRL -> CMP : shipsBST = getShipsBST()
activate CMP
CMP - -> CTRL : shipsBST
deactivate CMP
CTRL -> CMP : vesselTypeStore = getVesselTypeStore()
activate CMP
CMP - -> CTRL : vesselTypeStore
deactivate CMP
loop for each line of the file
CTRL -> SBST : ship = getShipByMMSI(mmsi)
activate SBST
SBST - -> CTRL : ship
deactivate SBST
alt if ship == null
CTRL -> VTSTR : vesselType = getVesselTypeByID(vesselTypeID)
activate VTSTR
VTSTR - -> CTRL : vesselType
deactivate VTSTR
alt if vesselType == null
CTRL -> VTSTR : createVesselType(vesselTypeID, length, width, maxCapacity)
activate VTSTR
VTSTR - -> VT : create(vesselTypeID, length, width, maxCapacity)
activate VT
deactivate VT
deactivate VTSTR
end
CTRL -> SBST : createShip(mmsi, imo, callSign, shipName, draft, vesselTypeID)
activate SBST
SBST -> VTSTR : vesselType = getVesselTypeByID(vesselTypeID)
activate VTSTR
VTSTR - -> SBST : vesselType
deactivate VTSTR
SBST -> PBST** : create()
activate PBST
PBST - -> SBST : shipPositions
deactivate PBST
SBST -> SHIP : create(mmsi, imo, callSign, shipName, draft, shipPositions, vesselType, energyPower)
activate SHIP
deactivate SHIP
deactivate SBST
end
CTRL -> PBST : createPosition(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)
activate PBST
PBST -> POS : create(baseDateTime, latitude, longitude, sog, cog, heading, transceiver)
activate POS
deactivate POS
deactivate PBST
end
CTRL - -> UI : result
deactivate CTRL
UI - -> TM : informs of operation success or fail
deactivate UI
deactivate TM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>