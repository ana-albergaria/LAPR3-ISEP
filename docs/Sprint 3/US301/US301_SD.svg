<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1836px" preserveAspectRatio="none" style="width:2623px;height:1836px;background:#FFFFFF;" version="1.1" viewBox="0 0 2623 1836" width="2623px" zoomAndPan="magnify"><defs><filter height="300%" id="fjyx9owtzxi7k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1635.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1599.6719" style="stroke:#A80036;stroke-width:1.0;" width="10" x="481.5" y="134.5625"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1541.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="727.5" y="163.6953"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="352.3594"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="650.6172"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="899.5781"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="1017.8438"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1172.5" y="251.9609"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1172.5" y="1076.9766"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="119.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="435.625"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="584.4844"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1339.9063"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1459.3047"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1518.4375"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="168.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1547.5" y="709.75"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1808.5" y="958.7109"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1808.5" y="1136.1094"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="225.125" style="stroke:#000000;stroke-width:2.0;" width="1946" x="597.5" y="397.3594"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="104.5625" style="stroke:#000000;stroke-width:2.0;" width="883.5" x="1488" y="766.8828"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1181.1094"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1241.375"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="283.9297" style="stroke:#000000;stroke-width:2.0;" width="2022" x="587.5" y="1301.6406"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1384.9063"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="77.3984" style="stroke:#000000;stroke-width:2.0;" width="2022" x="587.5" y="1599.5703"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1623.7031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="486" x2="486" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="732.5" x2="732.5" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1028" x2="1028" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1177" x2="1177" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1429" x2="1429" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1552" x2="1552" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1813" x2="1813" y1="88.2969" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2335.5" x2="2335.5" y1="816.6641" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2407.5" x2="2407.5" y1="476.2734" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2493.5" x2="2493.5" y1="521.5703" y2="1752.2344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2566.5" x2="2566.5" y1="88.2969" y2="1752.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="5" y="84.9951">Traffic Manager</text><ellipse cx="64.5" cy="15" fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M64.5,23 L64.5,50 M51.5,31 L77.5,31 M64.5,50 L51.5,65 M64.5,50 L77.5,65 " fill="none" filter="url(#fjyx9owtzxi7k)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="5" y="1764.2295">Traffic Manager</text><ellipse cx="64.5" cy="1777.5313" fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M64.5,1785.5313 L64.5,1812.5313 M51.5,1793.5313 L77.5,1793.5313 M64.5,1812.5313 L51.5,1827.5313 M64.5,1812.5313 L77.5,1827.5313 " fill="none" filter="url(#fjyx9owtzxi7k)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="386" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="393" y="72.9951">:CreateFreightNetworkUI</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="386" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="393" y="1771.2295">:CreateFreightNetworkUI</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="246" x="607.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="614.5" y="72.9951">:CreateFreightNetworkController</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="246" x="607.5" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="614.5" y="1771.2295">:CreateFreightNetworkController</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="983" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="990" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="983" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="990" y="1771.2295">:Company</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1109" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1116" y="72.9951">:CountryStoreDb</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1109" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1116" y="1771.2295">:CountryStoreDb</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="1371" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1378" y="72.9951">:CountryStore</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="1371" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1378" y="1771.2295">:CountryStore</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1498" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1505" y="72.9951">:PortStoreDb</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="105" x="1498" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1505" y="1771.2295">:PortStoreDb</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1769" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1776" y="72.9951">:PortStore</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="1769" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1776" y="1771.2295">:PortStore</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="47" x="2310.5" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="2317.5" y="1771.2295">:Port</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="2371.5" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2378.5" y="1771.2295">:Capital</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2454.5" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2461.5" y="1771.2295">:Country</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="2543.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="2550.5" y="72.9951">NET</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="42" x="2543.5" y="1751.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="2550.5" y="1771.2295">NET</text><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1635.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="59.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1599.6719" style="stroke:#A80036;stroke-width:1.0;" width="10" x="481.5" y="134.5625"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="1541.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="727.5" y="163.6953"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="352.3594"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="650.6172"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="899.5781"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1023.5" y="1017.8438"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="71.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1172.5" y="251.9609"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1172.5" y="1076.9766"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="119.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="435.625"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="584.4844"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1339.9063"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1459.3047"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="1518.4375"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="168.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1547.5" y="709.75"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1808.5" y="958.7109"/><rect fill="#FFFFFF" filter="url(#fjyx9owtzxi7k)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1808.5" y="1136.1094"/><polygon fill="#A80036" points="469.5,130.5625,479.5,134.5625,469.5,138.5625,473.5,134.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="69.5" x2="475.5" y1="134.5625" y2="134.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="76.5" y="121.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380" x="89.5" y="114.3638">asks to create a freight network importing ports, countries</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="93.5" y="129.4966">and seadists from database</text><polygon fill="#A80036" points="715.5,159.6953,725.5,163.6953,715.5,167.6953,719.5,163.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="491.5" x2="721.5" y1="163.6953" y2="163.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="498.5" y="158.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="511.5" y="158.6294">CreateFreightNetworkFromDb()</text><polygon fill="#A80036" points="1011.5,188.8281,1021.5,192.8281,1011.5,196.8281,1015.5,192.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1017.5" y1="192.8281" y2="192.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="744.5" y="187.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="757.5" y="187.7622">countryStoreDb = getCountryStoreDb()</text><polygon fill="#A80036" points="1160.5,247.9609,1170.5,251.9609,1160.5,255.9609,1164.5,251.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1166.5" y1="251.9609" y2="251.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="744.5" y="246.895">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="757.5" y="246.895">List&lt;CountryDto&gt; existentCountries = getExistentCountries()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1182.5" x2="1224.5" y1="281.0938" y2="281.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1224.5" x2="1224.5" y1="281.0938" y2="294.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1183.5" x2="1224.5" y1="294.0938" y2="294.0938"/><polygon fill="#A80036" points="1193.5,290.0938,1183.5,294.0938,1193.5,298.0938,1189.5,294.0938" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1189.5" y="276.0278">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1202.5" y="276.0278">resultSet = getPortsInDatabase()</text><polygon fill="#A80036" points="748.5,319.2266,738.5,323.2266,748.5,327.2266,744.5,323.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="742.5" x2="1176.5" y1="323.2266" y2="323.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="754.5" y="318.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="767.5" y="318.1606">existentCountries</text><polygon fill="#A80036" points="1011.5,348.3594,1021.5,352.3594,1011.5,356.3594,1015.5,352.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1017.5" y1="352.3594" y2="352.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="744.5" y="347.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="757.5" y="347.2935">countryStore = getCountryStore()</text><path d="M597.5,397.3594 L661.5,397.3594 L661.5,404.3594 L651.5,414.3594 L597.5,414.3594 L597.5,397.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="225.125" style="stroke:#000000;stroke-width:2.0;" width="1946" x="597.5" y="397.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="612.5" y="410.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="265" x="676.5" y="409.5698">[for each countryDto in existentCountries]</text><polygon fill="#A80036" points="1412.5,431.625,1422.5,435.625,1412.5,439.625,1416.5,435.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1418.5" y1="435.625" y2="435.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="744.5" y="430.5591">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="757.5" y="430.5591">createCountry(countryDto)</text><polygon fill="#A80036" points="2359.5,460.7578,2369.5,464.7578,2359.5,468.7578,2363.5,464.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1434.5" x2="2365.5" y1="464.7578" y2="464.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1441.5" y="459.6919">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="658" x="1454.5" y="459.6919">capital = create(dto.getCapitalName, dto.getCapitallatitude, dto.getCaitalLon, dto.getCountryName),</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="2371.5" y="443.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2378.5" y="463.6201">:Capital</text><polygon fill="#A80036" points="2442.5,506.0547,2452.5,510.0547,2442.5,514.0547,2446.5,510.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1434.5" x2="2448.5" y1="510.0547" y2="510.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1441.5" y="504.9888">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="460" x="1463.5" y="504.9888">create(dto.getCountryName, dto.getBorders, dto.getContinent, capital)</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="75" x="2454.5" y="488.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2461.5" y="508.917">:Country</text><polygon fill="#A80036" points="748.5,551.3516,738.5,555.3516,748.5,559.3516,744.5,555.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="742.5" x2="1428.5" y1="555.3516" y2="555.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="754.5" y="550.2856">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="776.5" y="550.2856">country</text><polygon fill="#A80036" points="1412.5,580.4844,1422.5,584.4844,1412.5,588.4844,1416.5,584.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1418.5" y1="584.4844" y2="584.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="579.4185">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="766.5" y="579.4185">saveCountry(country)</text><polygon fill="#A80036" points="1011.5,646.6172,1021.5,650.6172,1011.5,654.6172,1015.5,650.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1017.5" y1="650.6172" y2="650.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="645.5513">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="766.5" y="645.5513">portsStoreDb = getPortStoreDb()</text><polygon fill="#A80036" points="1535.5,705.75,1545.5,709.75,1535.5,713.75,1539.5,709.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1541.5" y1="709.75" y2="709.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="704.6841">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="766.5" y="704.6841">List&lt;PortDto&gt; existentPorts = portStoreDb.getExistentPorts()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1557.5" x2="1599.5" y1="738.8828" y2="738.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1599.5" x2="1599.5" y1="738.8828" y2="751.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1558.5" x2="1599.5" y1="751.8828" y2="751.8828"/><polygon fill="#A80036" points="1568.5,747.8828,1558.5,751.8828,1568.5,755.8828,1564.5,751.8828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1564.5" y="733.8169">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1586.5" y="733.8169">resultSet = getPortsInDatabase()</text><path d="M1488,766.8828 L1552,766.8828 L1552,773.8828 L1542,783.8828 L1488,783.8828 L1488,766.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="104.5625" style="stroke:#000000;stroke-width:2.0;" width="883.5" x="1488" y="766.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1503" y="779.9497">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="166" x="1567" y="779.0933">[for each port in resultset]</text><polygon fill="#A80036" points="2298.5,801.1484,2308.5,805.1484,2298.5,809.1484,2302.5,805.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1557.5" x2="2304.5" y1="805.1484" y2="805.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1564.5" y="800.0825">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="707" x="1586.5" y="800.0825">create(continent, country, portCode, portName, latitude, longitude, Map&lt;Integer, Integer&gt; toPortsDistances)</text><rect fill="#FEFECE" filter="url(#fjyx9owtzxi7k)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="47" x="2310.5" y="784.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="2317.5" y="804.0107">:Port</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1557.5" x2="1599.5" y1="850.4453" y2="850.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1599.5" x2="1599.5" y1="850.4453" y2="863.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1558.5" x2="1599.5" y1="863.4453" y2="863.4453"/><polygon fill="#A80036" points="1568.5,859.4453,1558.5,863.4453,1568.5,867.4453,1564.5,863.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1564.5" y="845.3794">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1586.5" y="845.3794">existentPorts.add(port)</text><polygon fill="#A80036" points="1011.5,895.5781,1021.5,899.5781,1011.5,903.5781,1015.5,899.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1017.5" y1="899.5781" y2="899.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="894.5122">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="766.5" y="894.5122">portStore = getPortStore()</text><polygon fill="#A80036" points="1796.5,954.7109,1806.5,958.7109,1796.5,962.7109,1800.5,958.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1802.5" y1="958.7109" y2="958.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="953.645">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="766.5" y="953.645">importPortsList(existentPorts)</text><polygon fill="#A80036" points="1011.5,1013.8438,1021.5,1017.8438,1011.5,1021.8438,1015.5,1017.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1017.5" y1="1017.8438" y2="1017.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1012.7778">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="766.5" y="1012.7778">getFreigthNetwork()</text><polygon fill="#A80036" points="1160.5,1072.9766,1170.5,1076.9766,1160.5,1080.9766,1164.5,1076.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1166.5" y1="1076.9766" y2="1076.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1071.9106">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="766.5" y="1071.9106">getCountries()</text><polygon fill="#A80036" points="1796.5,1132.1094,1806.5,1136.1094,1796.5,1140.1094,1800.5,1136.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1802.5" y1="1136.1094" y2="1136.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1131.0435">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="766.5" y="1131.0435">getPorts()</text><path d="M597.5,1181.1094 L661.5,1181.1094 L661.5,1188.1094 L651.5,1198.1094 L597.5,1198.1094 L597.5,1181.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1181.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="612.5" y="1194.1763">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="210" x="676.5" y="1193.3198">[for each capital in countries list]</text><polygon fill="#A80036" points="2554.5,1215.375,2564.5,1219.375,2554.5,1223.375,2558.5,1219.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="2560.5" y1="1219.375" y2="1219.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1214.3091">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="766.5" y="1214.3091">add(capital)</text><path d="M597.5,1241.375 L661.5,1241.375 L661.5,1248.375 L651.5,1258.375 L597.5,1258.375 L597.5,1241.375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1241.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="612.5" y="1254.4419">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="167" x="676.5" y="1253.5854">[for each port in portsList]</text><polygon fill="#A80036" points="2554.5,1275.6406,2564.5,1279.6406,2554.5,1283.6406,2558.5,1279.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="2560.5" y1="1279.6406" y2="1279.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1274.5747">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="766.5" y="1274.5747">add(port)</text><path d="M587.5,1301.6406 L651.5,1301.6406 L651.5,1308.6406 L641.5,1318.6406 L587.5,1318.6406 L587.5,1301.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="283.9297" style="stroke:#000000;stroke-width:2.0;" width="2022" x="587.5" y="1301.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="602.5" y="1314.7075">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="216" x="666.5" y="1313.8511">[for each country in countries list]</text><polygon fill="#A80036" points="1412.5,1335.9063,1422.5,1339.9063,1412.5,1343.9063,1416.5,1339.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1418.5" y1="1339.9063" y2="1339.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1334.8403">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="766.5" y="1334.8403">&lt;String, Integer&gt;Map borders =  getBordersDistances()</text><path d="M597.5,1384.9063 L661.5,1384.9063 L661.5,1391.9063 L651.5,1401.9063 L597.5,1401.9063 L597.5,1384.9063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1384.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="612.5" y="1397.9731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="676.5" y="1397.1167">[for each border in borders]</text><polygon fill="#A80036" points="2554.5,1419.1719,2564.5,1423.1719,2554.5,1427.1719,2558.5,1423.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="2560.5" y1="1423.1719" y2="1423.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1418.106">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354" x="766.5" y="1418.106">addEdge(country.getCapital, border.key, border.value)</text><polygon fill="#A80036" points="1412.5,1455.3047,1422.5,1459.3047,1412.5,1463.3047,1416.5,1459.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1418.5" y1="1459.3047" y2="1459.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1454.2388">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="547" x="766.5" y="1454.2388">getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))</text><polygon fill="#A80036" points="1412.5,1514.4375,1422.5,1518.4375,1412.5,1522.4375,1416.5,1518.4375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="1418.5" y1="1518.4375" y2="1518.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1513.3716">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="766.5" y="1513.3716">getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)</text><polygon fill="#A80036" points="2554.5,1573.5703,2564.5,1577.5703,2554.5,1581.5703,2558.5,1577.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="2560.5" y1="1577.5703" y2="1577.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1572.5044">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="766.5" y="1572.5044">addEdge(country.Capital, closest.Port, dist)</text><path d="M587.5,1599.5703 L651.5,1599.5703 L651.5,1606.5703 L641.5,1616.5703 L587.5,1616.5703 L587.5,1599.5703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="77.3984" style="stroke:#000000;stroke-width:2.0;" width="2022" x="587.5" y="1599.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="602.5" y="1612.6372">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="666.5" y="1611.7808">[for each port in ports]</text><path d="M597.5,1623.7031 L661.5,1623.7031 L661.5,1630.7031 L651.5,1640.7031 L597.5,1640.7031 L597.5,1623.7031 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="2002" x="597.5" y="1623.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="612.5" y="1636.77">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178" x="676.5" y="1635.9136">[for each toDistance in port]</text><polygon fill="#A80036" points="2554.5,1657.9688,2564.5,1661.9688,2554.5,1665.9688,2558.5,1661.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="737.5" x2="2560.5" y1="1661.9688" y2="1661.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="744.5" y="1656.9028">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="766.5" y="1656.9028">addEdge(port, portStore.getPortbyId(key), dist)</text><polygon fill="#A80036" points="502.5,1701.1016,492.5,1705.1016,502.5,1709.1016,498.5,1705.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496.5" x2="731.5" y1="1705.1016" y2="1705.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="508.5" y="1700.0356">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="530.5" y="1700.0356">result</text><polygon fill="#A80036" points="75.5,1730.2344,65.5,1734.2344,75.5,1738.2344,71.5,1734.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="485.5" y1="1734.2344" y2="1734.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="81.5" y="1729.1685">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="103.5" y="1729.1685">informs of operation success or fail</text><!--MD5=[a938504b475e5a538a58339920c91836]
@startuml
autonumber
'hide footbox
actor "Traffic Manager" as PM
participant ":CreateFreightNetworkUI  " as UI
participant ":CreateFreightNetworkController" as CTRL
participant ":Company" as CMP
participant ":CountryStoreDb" as CSTORE
participant ":CountryStore" as LSTORE
participant ":PortStoreDb" as STORE
participant ":PortStore" as PSTORE
participant ":Port" as PORT
participant ":Capital" as CAP
participant ":Country" as CTRY


activate PM
PM -> UI : asks to create a freight network importing ports, countries\n and seadists from database
activate UI

UI -> CTRL : CreateFreightNetworkFromDb()
activate CTRL
CTRL -> CMP : countryStoreDb = getCountryStoreDb()
activate CMP
deactivate CMP
CTRL -> CSTORE : List<CountryDto> existentCountries = getExistentCountries()
activate CSTORE
CSTORE -> CSTORE: resultSet = getPortsInDatabase()
CSTORE -> CTRL: existentCountries
deactivate CSTORE
CTRL -> CMP : countryStore = getCountryStore()
activate CMP
deactivate CMP
alt for each countryDto in existentCountries
CTRL -> LSTORE : createCountry(countryDto)
activate LSTORE
LSTORE -> CAP** : capital = create(dto.getCapitalName, dto.getCapitallatitude, dto.getCaitalLon, dto.getCountryName),
LSTORE -> CTRY** : create(dto.getCountryName, dto.getBorders, dto.getContinent, capital)
LSTORE -> CTRL : country
deactivate LSTORE
CTRL -> LSTORE: saveCountry(country)
activate LSTORE
deactivate LSTORE
end
deactivate CSTORE
CTRL -> CMP : portsStoreDb = getPortStoreDb()
activate CMP
deactivate CMP
CTRL -> STORE : List<PortDto> existentPorts = portStoreDb.getExistentPorts()
activate STORE
STORE -> STORE: resultSet = getPortsInDatabase()
alt for each port in resultset
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude, Map<Integer, Integer> toPortsDistances)
STORE -> STORE : existentPorts.add(port)
end
deactivate STORE

CTRL -> CMP: portStore = getPortStore()
activate CMP
deactivate CMP

CTRL -> PSTORE : importPortsList(existentPorts)
activate PSTORE
deactivate PSTORE
deactivate STORE
CTRL -> CMP : getFreigthNetwork()
activate CMP
deactivate CMP
CTRL -> CSTORE : getCountries()
activate CSTORE
deactivate CSTORE
CTRL -> PSTORE: getPorts()
activate PSTORE
deactivate PSTORE
alt for each capital in countries list
CTRL -> NET : add(capital)
end
alt for each port in portsList
CTRL -> NET : add(port)
end
alt for each country in countries list
CTRL -> LSTORE : <String, Integer>Map borders =  getBordersDistances()
activate LSTORE
deactivate LSTORE
alt for each border in borders
CTRL -> NET : addEdge(country.getCapital, border.key, border.value)
end
CTRL -> LSTORE: getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))
activate LSTORE
deactivate LSTORE
CTRL -> LSTORE: getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)
activate LSTORE
deactivate LSTORE
CTRL -> NET : addEdge(country.Capital, closest.Port, dist)
end
alt for each port in ports
alt for each toDistance in port
CTRL -> NET : addEdge(port, portStore.getPortbyId(key), dist)
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

@startuml
autonumber
actor "Traffic Manager" as PM
participant ":CreateFreightNetworkUI  " as UI
participant ":CreateFreightNetworkController" as CTRL
participant ":Company" as CMP
participant ":CountryStoreDb" as CSTORE
participant ":CountryStore" as LSTORE
participant ":PortStoreDb" as STORE
participant ":PortStore" as PSTORE
participant ":Port" as PORT
participant ":Capital" as CAP
participant ":Country" as CTRY


activate PM
PM -> UI : asks to create a freight network importing ports, countries\n and seadists from database
activate UI

UI -> CTRL : CreateFreightNetworkFromDb()
activate CTRL
CTRL -> CMP : countryStoreDb = getCountryStoreDb()
activate CMP
deactivate CMP
CTRL -> CSTORE : List<CountryDto> existentCountries = getExistentCountries()
activate CSTORE
CSTORE -> CSTORE: resultSet = getPortsInDatabase()
CSTORE -> CTRL: existentCountries
deactivate CSTORE
CTRL -> CMP : countryStore = getCountryStore()
activate CMP
deactivate CMP
alt for each countryDto in existentCountries
CTRL -> LSTORE : createCountry(countryDto)
activate LSTORE
LSTORE -> CAP** : capital = create(dto.getCapitalName, dto.getCapitallatitude, dto.getCaitalLon, dto.getCountryName),
LSTORE -> CTRY** : create(dto.getCountryName, dto.getBorders, dto.getContinent, capital)
LSTORE -> CTRL : country
deactivate LSTORE
CTRL -> LSTORE: saveCountry(country)
activate LSTORE
deactivate LSTORE
end
deactivate CSTORE
CTRL -> CMP : portsStoreDb = getPortStoreDb()
activate CMP
deactivate CMP
CTRL -> STORE : List<PortDto> existentPorts = portStoreDb.getExistentPorts()
activate STORE
STORE -> STORE: resultSet = getPortsInDatabase()
alt for each port in resultset
STORE -> PORT** : create(continent, country, portCode, portName, latitude, longitude, Map<Integer, Integer> toPortsDistances)
STORE -> STORE : existentPorts.add(port)
end
deactivate STORE

CTRL -> CMP: portStore = getPortStore()
activate CMP
deactivate CMP

CTRL -> PSTORE : importPortsList(existentPorts)
activate PSTORE
deactivate PSTORE
deactivate STORE
CTRL -> CMP : getFreigthNetwork()
activate CMP
deactivate CMP
CTRL -> CSTORE : getCountries()
activate CSTORE
deactivate CSTORE
CTRL -> PSTORE: getPorts()
activate PSTORE
deactivate PSTORE
alt for each capital in countries list
CTRL -> NET : add(capital)
end
alt for each port in portsList
CTRL -> NET : add(port)
end
alt for each country in countries list
CTRL -> LSTORE : <String, Integer>Map borders =  getBordersDistances()
activate LSTORE
deactivate LSTORE
alt for each border in borders
CTRL -> NET : addEdge(country.getCapital, border.key, border.value)
end
CTRL -> LSTORE: getClosestPortFromCapital(countryName, portStore.getCountryPorts(countryName))
activate LSTORE
deactivate LSTORE
CTRL -> LSTORE: getLocationsDistance(capital.lat, capital.lon, port.lat, port.lon)
activate LSTORE
deactivate LSTORE
CTRL -> NET : addEdge(country.Capital, closest.Port, dist)
end
alt for each port in ports
alt for each toDistance in port
CTRL -> NET : addEdge(port, portStore.getPortbyId(key), dist)
end
end
CTRL - -> UI : result
deactivate CTRL
UI - -> PM : informs of operation success or fail
deactivate UI
deactivate PM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 WEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>