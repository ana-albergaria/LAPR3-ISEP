<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1074px" preserveAspectRatio="none" style="width:1912px;height:1074px;background:#FFFFFF;" version="1.1" viewBox="0 0 1912 1074" width="1912px" zoomAndPan="magnify"><defs><filter height="300%" id="fmatxq398pcqp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="879.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="55.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="756.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520.5" y="208.0156"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="302.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="885.5" y="238.3672"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="362.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="885.5" y="571.1797"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="329.0703"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="601.5313"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="722.5859"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1427" y="268.7188"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="419.7734"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="631.8828"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="873.6406"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1793.5" y="480.4766"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="359.4219"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="752.9375"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="813.2891"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="835.3828" style="stroke:#000000;stroke-width:2.0;" width="1888.5" x="10" y="136.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="525.5" x2="525.5" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="890.5" x2="890.5" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1346" x2="1346" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1432" x2="1432" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1640" x2="1640" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1798.5" x2="1798.5" y1="89.6094" y2="989.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1865.5" x2="1865.5" y1="89.6094" y2="989.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="86.5332">Unknown</text><ellipse cx="51.5" cy="15" fill="#FEFECE" filter="url(#fmatxq398pcqp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,23 L51.5,50 M38.5,31 L64.5,31 M51.5,50 L38.5,65 M51.5,50 L64.5,65 " fill="none" filter="url(#fmatxq398pcqp)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="20" y="1002.877">Unknown</text><ellipse cx="51.5" cy="1015.9531" fill="#FEFECE" filter="url(#fmatxq398pcqp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,1023.9531 L51.5,1050.9531 M38.5,1031.9531 L64.5,1031.9531 M51.5,1050.9531 L38.5,1065.9531 M51.5,1050.9531 L64.5,1065.9531 " fill="none" filter="url(#fmatxq398pcqp)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="60" x="493.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="500.5" y="74.5332">TopNUI</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="60" x="493.5" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="500.5" y="1009.877">TopNUI</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="110" x="833.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="840.5" y="74.5332">TopNController</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="110" x="833.5" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="840.5" y="1009.877">TopNController</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1310" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1317" y="74.5332">ShipBST</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="69" x="1310" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1317" y="1009.877">ShipBST</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1393" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1400" y="74.5332">Company</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1393" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1400" y="1009.877">Company</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1593" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1600" y="74.5332">PositionBST</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1593" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1600" y="1009.877">PositionBST</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="64" x="1764.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1771.5" y="74.5332">Position</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="64" x="1764.5" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1771.5" y="1009.877">Position</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1842.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1849.5" y="74.5332">Ship</text><rect fill="#FEFECE" filter="url(#fmatxq398pcqp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="42" x="1842.5" y="988.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="1849.5" y="1009.877">Ship</text><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="879.7344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="46.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="55.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="756.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520.5" y="208.0156"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="302.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="885.5" y="238.3672"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="362.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="885.5" y="571.1797"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="329.0703"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="601.5313"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1341.5" y="722.5859"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1427" y="268.7188"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="419.7734"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="631.8828"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1635.5" y="873.6406"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1793.5" y="480.4766"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="359.4219"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="752.9375"/><rect fill="#FFFFFF" filter="url(#fmatxq398pcqp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1860.5" y="813.2891"/><polygon fill="#A80036" points="508.5,117.9609,518.5,121.9609,508.5,125.9609,512.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56.5" x2="514.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="434" x="74.5" y="117.1045">asks to see the top-N ships with the most km travelled and their meanSOG</text><path d="M10,136.9609 L83,136.9609 L83,144.9609 L73,154.9609 L10,154.9609 L10,136.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="835.3828" style="stroke:#000000;stroke-width:2.0;" width="1888.5" x="10" y="136.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="151.4561">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="273" x="98" y="150.3799">[while top-N ships and meanSOGwant to be seen]</text><polygon fill="#A80036" points="67.5,173.6641,57.5,177.6641,67.5,181.6641,63.5,177.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61.5" x2="524.5" y1="177.6641" y2="177.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="73.5" y="172.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="84.5" y="172.8076">requests initial and final Base Date Time and N ships to be sorted</text><polygon fill="#A80036" points="508.5,204.0156,518.5,208.0156,508.5,212.0156,512.5,208.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="56.5" x2="514.5" y1="208.0156" y2="208.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63.5" y="203.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="74.5" y="203.1592">inserts requested data (initial, final, N)</text><polygon fill="#A80036" points="873.5,234.3672,883.5,238.3672,873.5,242.3672,877.5,238.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="879.5" y1="238.3672" y2="238.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="537.5" y="233.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="548.5" y="233.5107">List&lt;E&gt; getShipsByDate(initial, final)</text><polygon fill="#A80036" points="1415,264.7188,1425,268.7188,1415,272.7188,1419,268.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="895.5" x2="1421" y1="268.7188" y2="268.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="902.5" y="263.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="913.5" y="263.8623">shipBST = getShipsBST()</text><polygon fill="#A80036" points="1329.5,325.0703,1339.5,329.0703,1329.5,333.0703,1333.5,329.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="895.5" x2="1335.5" y1="329.0703" y2="329.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="902.5" y="324.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="913.5" y="324.2139">List&lt;E&gt; getShipsByDate(initial, final)</text><polygon fill="#A80036" points="1848.5,355.4219,1858.5,359.4219,1848.5,363.4219,1852.5,359.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1854.5" y1="359.4219" y2="359.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1358.5" y="354.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1369.5" y="354.5654">positionBST = getPositionsBST()</text><polygon fill="#A80036" points="1623.5,415.7734,1633.5,419.7734,1623.5,423.7734,1627.5,419.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1629.5" y1="419.7734" y2="419.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1358.5" y="414.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1369.5" y="414.917">startDate = getStartDate()</text><polygon fill="#A80036" points="1623.5,446.125,1633.5,450.125,1623.5,454.125,1627.5,450.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1346.5" x2="1629.5" y1="450.125" y2="450.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1353.5" y="445.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1364.5" y="445.2686">endDate = getEndDate()</text><polygon fill="#A80036" points="1781.5,476.4766,1791.5,480.4766,1781.5,484.4766,1785.5,480.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1645.5" x2="1787.5" y1="480.4766" y2="480.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1652.5" y="475.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1670.5" y="475.6201">getBaseDateTime()</text><polygon fill="#A80036" points="541.5,536.8281,531.5,540.8281,541.5,544.8281,537.5,540.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="889.5" y1="540.8281" y2="540.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="547.5" y="535.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="565.5" y="535.9717">shipList</text><polygon fill="#A80036" points="873.5,567.1797,883.5,571.1797,873.5,575.1797,877.5,571.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="879.5" y1="571.1797" y2="571.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="537.5" y="566.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="555.5" y="566.3232">List&lt;E&gt; sortNShips(shipList, N)</text><polygon fill="#A80036" points="1329.5,597.5313,1339.5,601.5313,1329.5,605.5313,1333.5,601.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="895.5" x2="1335.5" y1="601.5313" y2="601.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="902.5" y="596.6748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="920.5" y="596.6748">sortedShips = List&lt;E&gt; sortNShips(shipList, N)</text><polygon fill="#A80036" points="1623.5,627.8828,1633.5,631.8828,1623.5,635.8828,1627.5,631.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1629.5" y1="631.8828" y2="631.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1358.5" y="627.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="1376.5" y="627.0264">travelledDistance = getTotalDistance(code)</text><polygon fill="#A80036" points="873.5,688.2344,883.5,692.2344,873.5,696.2344,877.5,692.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="530.5" x2="879.5" y1="692.2344" y2="692.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="537.5" y="687.3779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="555.5" y="687.3779">Map&lt;String, List&lt;E&gt;&gt; getShipWithMean(sortedShips)</text><polygon fill="#A80036" points="1329.5,718.5859,1339.5,722.5859,1329.5,726.5859,1333.5,722.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="895.5" x2="1335.5" y1="722.5859" y2="722.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="902.5" y="717.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="920.5" y="717.7295">shipByVessel = Map&lt;String, List&lt;E&gt;&gt; getShipWithMean(sortedShips)</text><polygon fill="#A80036" points="1848.5,748.9375,1858.5,752.9375,1848.5,756.9375,1852.5,752.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1854.5" y1="752.9375" y2="752.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1358.5" y="748.0811">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1376.5" y="748.0811">code = getCode()</text><polygon fill="#A80036" points="1848.5,809.2891,1858.5,813.2891,1848.5,817.2891,1852.5,813.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1854.5" y1="813.2891" y2="813.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1358.5" y="808.4326">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1376.5" y="808.4326">getVesselType()</text><polygon fill="#A80036" points="1623.5,869.6406,1633.5,873.6406,1623.5,877.6406,1627.5,873.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1351.5" x2="1629.5" y1="873.6406" y2="873.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1358.5" y="868.7842">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1376.5" y="868.7842">getMeanSOG()</text><polygon fill="#A80036" points="541.5,929.9922,531.5,933.9922,541.5,937.9922,537.5,933.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="889.5" y1="933.9922" y2="933.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="547.5" y="929.1357">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="565.5" y="929.1357">return shipByVessel</text><polygon fill="#A80036" points="67.5,960.3438,57.5,964.3438,67.5,968.3438,63.5,964.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61.5" x2="524.5" y1="964.3438" y2="964.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="959.4873">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="389" x="91.5" y="959.4873">returns sorted ships with the most km travelled and their meanSOG</text><!--MD5=[22d7d85edf02a98b7019c43b6cc3eea9]
@startuml
autonumber
'hide footbox
actor "Unknown" as ADM

participant "TopNUI" as UI
participant "TopNController" as CTRL
participant "ShipBST" as STORE
participant "Company" as COMP
participant "PositionBST" as BST
participant "Position" as POS
participant "Ship" as SHIP


activate ADM
ADM -> UI : asks to see the top-N ships with the most km travelled and their meanSOG
activate UI
loop while top-N ships and meanSOGwant to be seen
UI -> ADM : requests initial and final Base Date Time and N ships to be sorted
deactivate UI

ADM -> UI : inserts requested data (initial, final, N)
activate UI
UI -> CTRL : List<E> getShipsByDate(initial, final)
activate CTRL
CTRL -> COMP : shipBST = getShipsBST()
activate COMP
deactivate COMP
CTRL -> STORE : List<E> getShipsByDate(initial, final)
activate STORE
STORE -> SHIP : positionBST = getPositionsBST()

activate SHIP
deactivate SHIP
STORE -> BST : startDate = getStartDate()
activate BST
STORE -> BST : endDate = getEndDate()
deactivate STORE
BST -> POS : getBaseDateTime()
activate POS
deactivate BST
deactivate POS

CTRL -> UI : shipList
deactivate CTRL

UI -> CTRL : List<E> sortNShips(shipList, N)
activate CTRL
CTRL -> STORE : sortedShips = List<E> sortNShips(shipList, N)
activate STORE
STORE -> BST : travelledDistance = getTotalDistance(code)
activate BST
deactivate BST
deactivate STORE
UI -> CTRL : Map<String, List<E>> getShipWithMean(sortedShips)
CTRL -> STORE : shipByVessel = Map<String, List<E>> getShipWithMean(sortedShips)
activate STORE
STORE -> SHIP : code = getCode()
activate SHIP
deactivate SHIP
STORE -> SHIP : getVesselType()
activate SHIP
deactivate SHIP
STORE -> BST : getMeanSOG()
activate BST
deactivate BST
deactivate STORE
CTRL -> UI : return shipByVessel
deactivate CTRL
UI -> ADM : returns sorted ships with the most km travelled and their meanSOG
deactivate UI
end
deactivate ADM

@enduml

@startuml
autonumber
actor "Unknown" as ADM

participant "TopNUI" as UI
participant "TopNController" as CTRL
participant "ShipBST" as STORE
participant "Company" as COMP
participant "PositionBST" as BST
participant "Position" as POS
participant "Ship" as SHIP


activate ADM
ADM -> UI : asks to see the top-N ships with the most km travelled and their meanSOG
activate UI
loop while top-N ships and meanSOGwant to be seen
UI -> ADM : requests initial and final Base Date Time and N ships to be sorted
deactivate UI

ADM -> UI : inserts requested data (initial, final, N)
activate UI
UI -> CTRL : List<E> getShipsByDate(initial, final)
activate CTRL
CTRL -> COMP : shipBST = getShipsBST()
activate COMP
deactivate COMP
CTRL -> STORE : List<E> getShipsByDate(initial, final)
activate STORE
STORE -> SHIP : positionBST = getPositionsBST()

activate SHIP
deactivate SHIP
STORE -> BST : startDate = getStartDate()
activate BST
STORE -> BST : endDate = getEndDate()
deactivate STORE
BST -> POS : getBaseDateTime()
activate POS
deactivate BST
deactivate POS

CTRL -> UI : shipList
deactivate CTRL

UI -> CTRL : List<E> sortNShips(shipList, N)
activate CTRL
CTRL -> STORE : sortedShips = List<E> sortNShips(shipList, N)
activate STORE
STORE -> BST : travelledDistance = getTotalDistance(code)
activate BST
deactivate BST
deactivate STORE
UI -> CTRL : Map<String, List<E>> getShipWithMean(sortedShips)
CTRL -> STORE : shipByVessel = Map<String, List<E>> getShipWithMean(sortedShips)
activate STORE
STORE -> SHIP : code = getCode()
activate SHIP
deactivate SHIP
STORE -> SHIP : getVesselType()
activate SHIP
deactivate SHIP
STORE -> BST : getMeanSOG()
activate BST
deactivate BST
deactivate STORE
CTRL -> UI : return shipByVessel
deactivate CTRL
UI -> ADM : returns sorted ships with the most km travelled and their meanSOG
deactivate UI
end
deactivate ADM

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>