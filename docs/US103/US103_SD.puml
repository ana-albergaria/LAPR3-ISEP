@startuml

autonumber
actor "Traffic Manager" as TM

participant "ShowPositionalMessagesUI" as UI
participant "ShowPositionalMessagesController" as CTRL
participant "Company" as COMP
participant "ship:\nShip" as S
participant "bstShip:\nBstShip" as BstShip
participant "ShipPosition" as SP
participant "bstShipPosition:\nBstShipPosition" as BstPosition


activate TM
TM -> "UI" : asks to obtain the positional messages temporally organized of a ship
activate "UI"
"UI" --> TM : requests the ship's MMSI code
deactivate "UI"
TM -> "UI" : types the MMSI code
activate "UI"
UI -> CTRL : isValidShip(mmsiCode)
activate CTRL
CTRL -> COMP : bstShip = getBstShip(mmsiCode)
activate COMP
deactivate COMP
CTRL -> BstShip : ship = getShipByMmsiCode(mmsiCode)
activate BstShip
deactivate BstShip
CTRL --> UI : result
deactivate CTRL
"UI" --> TM : requests data(initialDate, finalDate)
deactivate "UI"
TM -> "UI" : types requested data
activate "UI"
UI -> CTRL : showPositionalMessages(initialDate, finalDate)
activate CTRL
CTRL -> S : bstShipPosition = getBstShipPosition()
activate S
deactivate S
CTRL -> BstPosition : listPositionalMessage = getPositionalMessages(initialDate, finalDate)
activate BstPosition
deactivate BstPosition
CTRL --> UI : listPositionalMessage
"UI" --> TM : sends ship's positional messages

deactivate "UI"

deactivate TM

@enduml